(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{100:function(e,t,r){var n=r(101);"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(15)(n,a);n.locals&&(e.exports=n.locals)},101:function(e,t,r){(e.exports=r(14)(!1)).push([e.i,".MapBox {\r\n  width: 100%;\r\n  height: 100vh;\r\n}\r\n",""])},102:function(e,t,r){var n=r(103);"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(15)(n,a);n.locals&&(e.exports=n.locals)},103:function(e,t,r){(e.exports=r(14)(!1)).push([e.i,".TransformManager {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow-y: scroll;\r\n  overflow-x: hidden;\r\n}\r\n\r\n.TransformManager .Transform-item {\r\n  transition: transform 0.5s cubic-bezier(0.645, 0.045, 0.355, 1);\r\n  position: absolute;\r\n  width: 100%;\r\n}\r\n",""])},213:function(e,t,r){var n=r(214);"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(15)(n,a);n.locals&&(e.exports=n.locals)},214:function(e,t,r){(e.exports=r(14)(!1)).push([e.i,".Container-core {\r\n  position: relative;\r\n  overflow-x: hidden;\r\n  height: 100vh;\r\n}\r\n\r\n.Container-core .sc-content {\r\n  /* position: relative;\r\n    top: 0; */\r\n  transition: all .5s cubic-bezier(.645, .045, .355, 1);\r\n  overflow-x: hidden;\r\n  width: 100%;\r\n}\r\n\r\n.Container-core .sc-content img {\r\n  width: 100%;\r\n}\r\n\r\n.Container-core .sc-edit-content {\r\n  position: absolute;\r\n  top: 0;\r\n  transition: all .5s cubic-bezier(.645, .045, .355, 1);\r\n  width: 100%;\r\n  min-height: 100%;\r\n}\r\n\r\n.Container-core .sc-detail-content {\r\n  position: relative;\r\n  top: 0;\r\n  transition: all .5s cubic-bezier(.645, .045, .355, 1);\r\n  width: 100%;\r\n}\r\n\r\n.Container-core .sc-extend-drawer {\r\n  position: fixed;\r\n  z-index: 1;\r\n  width: 40px;\r\n  height: 100px;\r\n  /* top: calc((100% - 100px) / 2); */\r\n  background: rgba(50, 50, 50, .3);\r\n  border-radius: 5px 0 0 5px;\r\n  color: #FFF;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n}\r\n\r\n.Container-core .sc-extend-add {\r\n  position: fixed;\r\n  bottom: 20px;\r\n  z-index: 1;\r\n  right: 10px;\r\n  display: block;\r\n  height: 30px;\r\n  line-height: 28px;\r\n  width: 30px;\r\n  text-align: center;\r\n  background: RGBa(45, 175, 90, 0.4);\r\n  border-radius: 50%;\r\n}\r\n\r\n.Container-core .sc-extend-add .sc-extend-add-icon {\r\n  font-weight: 400 !important;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  position: relative;\r\n  text-decoration: none !important;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  -webkit-text-stroke-width: .22px;\r\n  font-size: 20px;\r\n  color: #fff;\r\n  font-style: normal;\r\n}\r\n\r\n.Container-core .sc-left {\r\n  left: 0;\r\n}\r\n\r\n.Container-core .sc-right {\r\n  right: 0;\r\n}\r\n\r\n.Container-core .sc-extend-drawer img {\r\n  width: 40px;\r\n  height: 40px;\r\n}\r\n\r\n.Container-core .sc-search-drawer .am-drawer-sidebar {\r\n  background-color: #fff;\r\n  overflow: auto;\r\n  -webkit-overflow-scrolling: touch;\r\n}\r\n\r\n.Container-core .sc-search-drawer .am-drawer-sidebar .am-list {\r\n  padding: 0;\r\n}\r\n\r\n.Container-core .am-list .am-list-extra {\r\n  flex-basis: 50%;\r\n}\r\n\r\n.Container-core .sc-search-drawer .am-list-item-middle {\r\n  background-color: rgba(0, 0, 0, .4);\r\n}\r\n\r\n.Container-core .sc-search-drawer .am-list-extra {\r\n  color: #FFF;\r\n}\r\n\r\n.Container-core .sc-search-drawer .am-list-arrow-horizontal {\r\n  background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='16' height='26' viewBox='0 0 16 26' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M2 0L0 2l11.5 11L0 24l2 2 14-13z' fill='%23FFF' fill-rule='evenodd'/%3E%3C/svg%3E\");\r\n}\r\n\r\n.Container-core .sc-search-drawer .am-list-content {\r\n  color: #FFF;\r\n}\r\n\r\n.Container-core .sc-search-drawer .am-button {\r\n  background-color: rgba(255, 255, 255, 0);\r\n  color: #FFF;\r\n}\r\n\r\n.Container-core .sc-search-drawer .am-input-control input {\r\n  color: #FFF;\r\n  text-align: right;\r\n}\r\n\r\n.Container-core .sc-search-drawer .am-input-label {\r\n  color: #FFF;\r\n}\r\n\r\n.Container-core .sc-search-drawer .am-accordion-header {\r\n  background-color: rgba(0, 0, 0, .4);\r\n  color: #FFF;\r\n}\r\n\r\n/* 修改文本框灰字颜色 */\r\n\r\n.Container-core .sc-search-drawer input::-webkit-input-placeholder,\r\ntextarea::-webkit-input-placeholder {\r\n  /* WebKit*/\r\n  color: #FFF;\r\n  text-align: right;\r\n  font-size: 16px;\r\n}\r\n\r\n.Container-core .sc-search-drawer input:-moz-placeholder,\r\ntextarea:-moz-placeholder {\r\n  /* Mozilla Firefox 4 to 18 */\r\n  color: #FFF;\r\n  font-size: 16px;\r\n  text-align: right;\r\n}\r\n\r\n.Container-core .sc-search-drawer input::-moz-placeholder,\r\ntextarea::-moz-placeholder {\r\n  /* Mozilla Firefox 19+ */\r\n  color: #FFF;\r\n  text-align: right;\r\n  font-size: 16px;\r\n}\r\n\r\n.Container-core .sc-search-drawer input:-ms-input-placeholder,\r\ntextarea:-ms-input-placeholder {\r\n  /* IE 10+ */\r\n  color: #FFF;\r\n  font-size: 16px;\r\n  text-align: right;\r\n}\r\n\r\n.Container-core .sc-edit-content .title {\r\n  font-family: MicrosoftYaHei;\r\n  font-size: 20px;\r\n  color: #0067bc;\r\n  font-weight: bold;\r\n  display: inline;\r\n}\r\n\r\n.Container-core .sc-edit-content .title-border {\r\n  border: 2px solid #024e97;\r\n  margin-right: 10px;\r\n  display: inline;\r\n}\r\n\r\n.Container-core .sc-edit-content .am-input-control input {\r\n  text-align: right;\r\n}\r\n\r\n.Container-core .am-list-header {\r\n  background: #fff;\r\n}\r\n",""])},267:function(e,t,r){"use strict";r.r(t);var n=r(48),a=r.n(n),o=(r(92),r(47)),i=r.n(o),l=r(13),c=r.n(l),u=r(9),s=r.n(u),d=r(10),p=r.n(d),m=r(11),f=r.n(m),h=r(12),g=r.n(h),v=r(0),y=r.n(v),b=(r(150),r(140)),k=r.n(b),x=(r(55),r(30)),C=r.n(x),S=(r(38),r(8)),w=r.n(S),E=(r(204),r(141)),P=r.n(E),T=r(19),F=r.n(T),I=r(20),O=r.n(I),M=(r(128),r(53)),D=r.n(M),z=r(67),N=r(52),j=r(68),V=r(145),B=r(281),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd HH:mm:ss";return"string"==typeof e&&(e=new Date(e)),Object(V.a)(e,t,{locale:B.a})},L=function(e,t){return t?function(t,r){return r[e]-t[e]}:function(t,r){return t[e]-r[e]}},R=function(e,t,r,n){var a=r-e,o=n-t;if(Math.abs(a)<25&&Math.abs(o)<25)return"";var i=180*Math.atan2(o,a)/Math.PI;return i>=-135&&i<=-45?"toTop":i>45&&i<135?"toDown":i>=135&&i<=180||i>=-180&&i<-135?"toLeft":i>=-45&&i<=45?"toRight":""},U=function(e){var t=e.onClick,r=e.showLast,n=e.showNext,a="calc((100vh - 100px) / 2)",o=y.a.createElement("div",{className:"sc-extend-drawer sc-left",style:{top:a},onClick:function(){return t&&t("last")}},y.a.createElement("img",{src:"./assets/arrow-left.png"})),i=y.a.createElement("div",{className:"sc-extend-drawer sc-right",style:{top:a},onClick:function(){return t&&t("next")}},y.a.createElement("img",{src:"./assets/arrow-right.png"}));return y.a.createElement(y.a.Fragment,null,r&&o,n&&i)},K=function(e){function t(){var e;return s()(this,t),(e=p()(this,f()(t).apply(this,arguments))).handleControls=function(t,r){var n=e.props,a=n.onDataFormat,o=n.onMapBoxChange,i=t.type,l=t.value,c=t.name;return"mapPicker"===i?y.a.createElement(y.a.Fragment,{key:"detail-page-map-picker-".concat(r)},y.a.createElement(w.a.Item,{extra:t.lng},"经度"),y.a.createElement(w.a.Item,{extra:t.lat},"纬度"),y.a.createElement(w.a.Item,{extra:t.address,arrow:"horizontal",onClick:function(){return o&&o(t)}},"地址")):"calendar"===i?y.a.createElement(y.a.Fragment,{key:"detail-page-label-".concat(r)},y.a.createElement(w.a.Item,{extra:a?a(l[0],t,"key"):l},c+"开始时间"),y.a.createElement(w.a.Item,{extra:a?a(l[1],t,"key"):l},c+"结束时间")):"mapPicker"!==i&&"upload"!==i?y.a.createElement(w.a.Item,{key:"detail-page-label-".concat(r),extra:a?a(l,t,"key"):l},c):null},e.handeContentTouch=function(t,r){var n=e.props,a=n.onPageChange,o=n.currentOrder,i=n.minPage,l=n.maxPage;if("touchStart"===r&&(e.contentStartX=t.touches[0].pageX,e.contentStartY=t.touches[0].pageY),"touchEnd"===r){var c=t.changedTouches[0].pageX,u=t.changedTouches[0].pageY,s=R(e.contentStartX,e.contentStartY,c,u);"toRight"===s&&o!==i&&a&&a("last"),"toLeft"===s&&o!==l&&a&&a("next")}},e.render=function(){var t=e.props,r=t.onBack,n=t.dataSource,a=void 0===n?[]:n,o=t.onPageChange,i=t.currentOrder,l=t.minPage,c=t.maxPage,u=t.showArrow;return y.a.createElement("div",{className:"DetailFactory",onTouchStart:function(t){return e.handeContentTouch(t,"touchStart")},onTouchEnd:function(t){return e.handeContentTouch(t,"touchEnd")}},u&&y.a.createElement(U,{onClick:o,showLast:i!==l,showNext:i!==c}),y.a.createElement(w.a,null,y.a.createElement(w.a.Item,null,a.map(function(t,r){return e.handleControls(t,r)})),y.a.createElement(w.a.Item,null,y.a.createElement(C.a,{onClick:r},"返回"))))},e}return g()(t,e),t}(v.Component),H=(r(130),r(70)),A=r.n(H),Y=(r(131),r(34)),q=r.n(Y),X=(r(64),r(71)),J=r.n(X),_=(r(134),r(72)),Z=r.n(_),W=(r(135),r(73)),$=r.n(W),Q=(r(137),r(75)),ee=r.n(Q),te=r(65),re=function(e){var t=[],r=!0,n=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var l=o.value,c=l.fname,u=l.controltype,s=l.fvalue,d=l.isvisiable,p=l.isadd,m=l.defaultvalue,f=l.editpageorderid,h=l.isnull,g=l.issearchfield,v=l.maxlen,y=l.minlen,b=l.foreigndata,k=l.unit,x=l.dateformat,C=l.decimalcount,S=l.id,w=l.isSort;t.push({id:S,type:ne[u],key:c,name:s,showInEdit:p,showInDetail:d,defaultValue:m,orderInEdit:f,orderInDetail:f,isNull:h,isSearchItem:g,maxLength:v,minLength:y,foreignData:b,unit:k,dateFormat:x,decimalCount:C,isSort:w})}}catch(e){n=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw a}}return t},ne={1:"input",2:"datePicker",3:"select",5:"checkbox",9:"calendar",12:"upload",14:"mapPicker",99:"label"},ae=function(e,t,r){var n=[];if(!e){var a=!0,o=!1,i=void 0;try{for(var l,u=t[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var s=l.value;n.push(c()({},s,{value:""}))}}catch(e){o=!0,i=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw i}}return n}for(var d=Object.keys(e),p=function(){var a=f[m],o=t.filter(function(e){return e.key===a});if(o.length){var i=o[0],l=i.key,u=i.showInDetail,s=i.type;if(!u)return"continue";var d=e[l],p=c()({id:~~(1e4*Math.random())},o[0],{value:e[l],templateOrder:e.templateOrder,primaryValue:e[r]});switch(s){case"mapPicker":var h=d.split("|");n.push(c()({},p,{lng:h[0],lat:h[1],address:h[2]}));break;case"upload":var g=JSON.parse(d||"[]"),v=[],y=!0,b=!1,k=void 0;try{for(var x,C=g[Symbol.iterator]();!(y=(x=C.next()).done);y=!0){var S=x.value;v.push({url:S.filepath,id:S.id||~~(1e3*Math.random()),name:S.filetile})}}catch(e){b=!0,k=e}finally{try{y||null==C.return||C.return()}finally{if(b)throw k}}p.value=v,n.push(p);break;case"datePicker":p.value=p.value?new Date(p.value):new Date,n.push(p);break;case"calendar":p.value=p.value.split(",")||["",""],n.push(p);break;default:n.push(p)}}},m=0,f=d;m<f.length;m++)p();return n},oe=function(e){var t=[],r=!0,n=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var l=o.value,c=l.key,u=l.value;t.push({key:c,value:u})}}catch(e){n=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw a}}return JSON.stringify(t)},ie=ee.a.CheckboxItem,le={calendarVisible:!1,currentCalendarItem:{key:"",config:{}}},ce=function(e){function t(e){var r;return s()(this,t),(r=p()(this,f()(t).call(this,e))).initDefaultValue=function(e){var t=!0,r=!1,n=void 0;try{for(var a,o=e[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var i=a.value;i.error=!1,i.message=""}}catch(e){r=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw n}}return e},r.validValue=function(e,t){var r=t.maxLength,n=t.minLength;return t.isNull||e?r&&e.toString().length>r?{error:!0,message:"不能超过".concat(r,"个字符")}:n&&e.toString().length<n?{error:!0,message:"不能少于".concat(n,"个字符")}:{error:!1,message:""}:{error:!0,message:"该值不能为空"}},r.checkValue=function(e,t){var n=t.type,a={},o={},i=r.state.form.findIndex(function(e){return e.key===t.key});switch(n){case"checkbox":var l;l=r.state.form[i].value||"";var u=new Set;l&&(u=new Set(l.split(","))).has(e)?u.delete(e):u.add(e),e=Array.from(u).toString();break;case"calendar":var s=e,d=s.startDateTime,p=s.endDateTime;e=[G(d),G(p)],o=le;break;case"upload":var m=r.state.form[i].value||[];m.push({url:e.url,id:e.id,name:e.name}),e=m;break;default:a=r.validValue(e,t)}r.state.form[i]=c()(r.state.form[i],c()({value:e},a)),r.setState(c()({form:r.state.form},o))},r.renderEditItem=function(){var e=O()(r),t=e.props,n=e.state,a=t.status,o=t.onMapBoxChange,l=t.updatePageMapBoxItem,c=t.onFormChange,u="update-page-".concat(a),s=[],d=!0,p=!1,m=void 0;try{for(var f,h=function(){var e=f.value,t=e.type,d=e.name,p=e.key,m=e.foreignData,h=e.id;switch(t){case"input":s.push(y.a.createElement(w.a.Item,{key:"".concat(u,"-input-item-").concat(h),extra:y.a.createElement($.a,{clear:!0,placeholder:"请输入",style:{textAlign:"right"},onErrorClick:function(){return i.a.fail(e.message)},onChange:function(t){return r.checkValue(t,e)},value:e.value,error:e.error})},d));break;case"datePicker":s.push(y.a.createElement(Z.a,{key:"".concat(u,"-data-picker-").concat(h),onChange:function(t){return r.checkValue(t,e)},value:e.value},y.a.createElement(w.a.Item,{arrow:"horizontal"},d)));break;case"select":s.push(y.a.createElement(J.a,{key:"".concat(u,"-select-").concat(h),data:m,cols:1,onChange:function(t){return r.checkValue(t[0],e)},value:e.value?[e.value]:[]},y.a.createElement(w.a.Item,{arrow:"horizontal"},d)));break;case"checkbox":s.push(y.a.createElement(q.a,{key:"".concat(u,"-checkbox-").concat(h)},y.a.createElement(q.a.Panel,{header:d},y.a.createElement(w.a,null,m.map(function(t,n){var a=e.value&&e.value.split(",")||[];return y.a.createElement(ie,{key:"".concat(u,"-checkbox-item-").concat(n),checked:a.includes(t.value),onChange:function(){return r.checkValue(t.value,e)}},t.label)})))));break;case"calendar":s.push(y.a.createElement(y.a.Fragment,{key:"".concat(u,"-calendar-").concat(h)},y.a.createElement(w.a.Item,{extra:e.value[0]?"":"请选择",arrow:"horizontal",onClick:function(){return r.setState({calendarVisible:!0,currentCalendarItem:{type:t,key:p,config:e}})}},d),y.a.createElement(w.a.Item,{extra:e.value[0]},"起始时间"),y.a.createElement(w.a.Item,{extra:e.value[1]},"结束时间")));break;case"upload":s.push(y.a.createElement(q.a,{key:"".concat(u,"-upload-").concat(h)},y.a.createElement(q.a.Panel,{header:d},y.a.createElement(te.default,{fileList:e.value,onChange:function(t){return r.checkValue(t,e)}}))));break;case"mapPicker":var g=e.value&&e.value.split("|")||[],v=l&&"-1"!==l.lng?l.lng:g[0],b=l&&"-1"!==l.lng?l.lng:g[1];"add"===a?l&&Object.keys(l).length?(s.push(y.a.createElement(w.a.Item,{key:"".concat(u,"-map-picker-address-").concat(h),arrow:"horizontal",onClick:function(){c&&c(n.form),o&&o({lat:b,lng:v,key:p})},extra:"修改"},"地址")),s.push(y.a.createElement(w.a.Item,{key:"".concat(u,"-map-picker-lng-").concat(h),extra:parseFloat(l.lng).toFixed(6)},"经度")),s.push(y.a.createElement(w.a.Item,{key:"".concat(u,"-map-picker-lat-").concat(h),extra:parseFloat(l.lat).toFixed(6)},"纬度"))):s.push(y.a.createElement(w.a.Item,{extra:"请选择",key:"".concat(u,"-map-picker-add-").concat(h),arrow:"horizontal",onClick:function(){c&&c(n.form),o&&o({lat:b,lng:v,key:p})}},d)):"update"===a&&(s.push(y.a.createElement(w.a.Item,{key:"".concat(u,"-map-picker-address-").concat(h),arrow:"horizontal",onClick:function(){return o&&o({lat:b,lng:v,key:p})},extra:g.length>2?g[2]:"查看"},"地址")),s.push(y.a.createElement(w.a.Item,{key:"".concat(u,"-map-picker-lng-").concat(h),extra:parseFloat(v).toFixed(6)},"经度")),s.push(y.a.createElement(w.a.Item,{key:"".concat(u,"-map-picker-lat-").concat(h),extra:parseFloat(b).toFixed(6)},"纬度")))}},g=n.form[Symbol.iterator]();!(d=(f=g.next()).done);d=!0)h()}catch(e){p=!0,m=e}finally{try{d||null==g.return||g.return()}finally{if(p)throw m}}return s},r.save=function(){var e=O()(r),t=e.props,n=e.state;t.updatePageSave&&t.updatePageSave(n.form)},r.render=function(){var e=r.props.onBack,t=r.state,n=t.calendarVisible,a=t.currentCalendarItem;return y.a.createElement(y.a.Fragment,null,y.a.createElement(w.a,null,r.renderEditItem(),y.a.createElement(w.a.Item,null,y.a.createElement(C.a,{type:"primary",onClick:r.save,inline:!0,style:{marginRight:4,width:"calc(50% - 4px)"}},"保存"),y.a.createElement(C.a,{inline:!0,onClick:e,style:{width:"50%"}},"返回"))),y.a.createElement(A.a,{visible:n,onCancel:function(){r.setState({calendarVisible:!1})},pickTime:!0,onConfirm:function(e,t){return r.checkValue({startDateTime:e,endDateTime:t},a.config)}}))},r.state=c()({},le,{form:r.initDefaultValue(e.dataSource)}),r}return g()(t,e),F()(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=this.state;oe(e.updatePageForm||[])!==oe(t.form)&&e.onFormChange&&e.onFormChange(t.form)}}],[{key:"getDerivedStateFromProps",value:function(e){return"add"===e.status&&e.updatePageForm&&0!==e.updatePageForm.length?{form:e.updatePageForm}:null}}]),t}(v.Component),ue=r(66),se=function(e){function t(){var e;return s()(this,t),(e=p()(this,f()(t).apply(this,arguments))).state={modalVisible:!1,sorts:[]},e.handleOnClick=function(t){var r=e.props,n=r.dataSource,a=r.onSort,o=e.state.sorts,i=t.direction,l=t.key,c=!0,u=!1,s=void 0;try{for(var d,p=o[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var m=d.value;l!==m.key&&(m.direction="horizontal",m.status="无")}}catch(e){u=!0,s=e}finally{try{c||null==p.return||p.return()}finally{if(u)throw s}}var f=!1;switch(i){case"horizontal":t.direction="up",t.status="升序";break;case"up":t.direction="down",t.status="降序",f=!0;break;case"down":t.direction="up",t.status="升序";break;default:t.direction="horizontal",t.status="无"}n.sort(L(l,f)),a&&a(n),e.setState({sorts:o})},e.render=function(){var t=e.state,r=t.modalVisible,n=t.sorts;return y.a.createElement("div",{className:"FunctionalButton"},y.a.createElement("div",{className:"sc-extend-add",onClick:function(){return e.setState({modalVisible:!0})}},y.a.createElement("i",{className:"sc-extend-add-icon"},"+")),y.a.createElement(D.a,{popup:!0,animationType:"slide-up",visible:r,onClose:function(){e.setState({modalVisible:!1})}},y.a.createElement(w.a,{renderHeader:function(){return"按字段排序"}},n.map(function(t){return y.a.createElement(w.a.Item,{extra:t.status,key:t.key,arrow:t.direction,onClick:function(){return e.handleOnClick(t)}},t.text)}))))},e}return g()(t,e),F()(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){if(0===t.sorts.length){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e.sortBy[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var u=i.value;r.push(c()({status:"无",direction:"horizontal"},u))}}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return{sorts:r}}return null}}]),t}(v.Component),de=(r(260),r(144)),pe=r.n(de),me=ee.a.CheckboxItem,fe={calendarVisible:!1,currentCalendarItem:{key:"",config:{}}},he=function(e){function t(){var e;return s()(this,t),(e=p()(this,f()(t).apply(this,arguments))).state=c()({form:[]},fe),e.checkValue=function(t,r){var n=r.type,a={},o=e.state.form.findIndex(function(e){return e.key===r.key});switch(n){case"checkbox":var i;i=e.state.form[o].value||"";var l=new Set;i&&(l=new Set(i.split(","))).has(t)?l.delete(t):l.add(t),t=Array.from(l).toString();break;case"calendar":var u=t,s=u.startDateTime,d=u.endDateTime;t=[G(s),G(d)],a=fe}e.state.form[o]=c()(e.state.form[o],{value:t}),e.setState(c()({form:e.state.form},a))},e.renderSidebar=function(){var t=O()(e).state,r=[],n=!0,a=!1,o=void 0;try{for(var l,c=function(){var t=l.value,n=t.type,a=t.name,o=t.key,c=t.foreignData,u=t.id;switch(n){case"input":r.push(y.a.createElement(w.a.Item,{key:"".concat("search-bar","-input-item-").concat(u),extra:y.a.createElement($.a,{clear:!0,placeholder:"请输入",style:{textAlign:"right"},onErrorClick:function(){return i.a.fail(t.message)},onChange:function(r){return e.checkValue(r,t)},value:t.value,error:t.error})},a));break;case"datePicker":r.push(y.a.createElement(Z.a,{key:"".concat("search-bar","-data-picker-").concat(u),onChange:function(r){return e.checkValue(r,t)},value:t.value},y.a.createElement(w.a.Item,{arrow:"horizontal"},a)));break;case"select":r.push(y.a.createElement(J.a,{key:"".concat("search-bar","-select-").concat(u),data:c,cols:1,onChange:function(r){return e.checkValue(r[0],t)},value:t.value?[t.value]:[]},y.a.createElement(w.a.Item,{arrow:"horizontal"},a)));break;case"checkbox":r.push(y.a.createElement(q.a,{key:"".concat("search-bar","-checkbox-").concat(u)},y.a.createElement(q.a.Panel,{header:a},y.a.createElement(w.a,null,c.map(function(r,n){var a=t.value&&t.value.split(",")||[];return y.a.createElement(me,{key:"".concat("search-bar","-checkbox-item-").concat(n),checked:a.includes(r.value),onChange:function(){return e.checkValue(r.value,t)}},r.label)})))));break;case"calendar":r.push(y.a.createElement(y.a.Fragment,{key:"".concat("search-bar","-calendar-").concat(u)},y.a.createElement(w.a.Item,{extra:t.value[0]?"":"请选择",arrow:"horizontal",onClick:function(){return e.setState({calendarVisible:!0,currentCalendarItem:{type:n,key:o,config:t}})}},a),y.a.createElement(w.a.Item,{extra:t.value[0]},"起始时间"),y.a.createElement(w.a.Item,{extra:t.value[1]},"结束时间")))}},u=t.form[Symbol.iterator]();!(n=(l=u.next()).done);n=!0)c()}catch(e){a=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(a)throw o}}return r},e.handleSearch=function(){var t=O()(e),r=t.props,n=t.state,a={},o=!0,i=!1,l=void 0;try{for(var c,u=n.form[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var s=c.value;a[s.key]=s.value}}catch(e){i=!0,l=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw l}}r.onSearch&&r.onSearch(a)},e}return g()(t,e),F()(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.visible,n=t.onVisibleChange,a=t.className,o=t.children,i=this.state,l=i.calendarVisible,c=i.currentCalendarItem,u=y.a.createElement(w.a,{renderHeader:function(){return y.a.createElement("span",{style:{fontSize:17}},"搜索面板")}},y.a.createElement(w.a.Item,null,this.renderSidebar()),y.a.createElement(w.a.Item,null,y.a.createElement(C.a,{type:"primary",onClick:this.handleSearch},"确定")));return y.a.createElement(y.a.Fragment,null,y.a.createElement(pe.a,{sidebar:u,position:"left",open:r,className:a,onOpenChange:function(e){return n&&n(e)},sidebarStyle:{width:"77%",background:"#fff"},overlayStyle:{backgroundColor:"transpent"},style:{minHeight:document.documentElement.clientHeight||document.body.clientHeight}},o||y.a.createElement(y.a.Fragment,null)),y.a.createElement(A.a,{visible:l,onCancel:function(){e.setState({calendarVisible:!1})},pickTime:!0,onConfirm:function(t,r){return e.checkValue({startDateTime:t,endDateTime:r},c.config)}}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r={};return 0!==e.dataSource.length&&0===t.form.length&&(r.form=e.dataSource),r}}]),t}(v.Component),ge=(r(213),D.a.alert),ve=D.a.operation,ye=function(e){function t(){var e;return s()(this,t),(e=p()(this,f()(t).apply(this,arguments))).state={currentOrder:0,currentGroup:"list-page",lng:"-1",lat:"-1",primaryValue:"",currentState:0,updatePageStatus:"add",mapBoxTargetKey:"",showSearchBar:!1,templateHeight:0},e.history={group:"list-page",order:-1},e.backToList=function(){e.props.onSearch&&e.props.onSearch(),e.setState({currentGroup:"list-page",currentOrder:0})},e.handleDelete=function(t){ge("长痛不如短痛，删tm的","真删了啊？",[{text:"容朕三思"},{text:"真的",onPress:function(){e.props.onDelete&&e.props.onDelete(t)}}])},e.handleTemplateClick=function(t){var r=t.templateOrder;e.setState({currentOrder:r,currentGroup:"detail-page"})},e.handleTemplatePress=function(t){var r=e.props,n=r.primaryKey,a=r.power,o=a.add,i=a.delete,l=a.update,c=a.select,u=t[n||""],s=[];if(c)return o&&s.push({text:"新增",onPress:function(){return e.setState({currentGroup:"update-page",currentOrder:0,primaryValue:u,updatePageStatus:"add"})}}),l&&s.push({text:"修改",onPress:function(){e.setState({currentGroup:"update-page",currentOrder:0,primaryValue:u,updatePageStatus:"update"})}}),i&&s.push({text:"删除",onPress:function(){return e.handleDelete(u)}}),0!==s.length&&ve(s),t},e.handleChildDataFormat=function(t,r,n){var a=!0,o=!1,i=void 0;try{for(var l,c=e.props.config[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var u=l.value,s=u.key,d=u.unit,p=u.decimalCount,m=u.dateFormat;s===r[n]&&(t instanceof Date&&(t=G(t,m)),p&&(t=+parseFloat(parseFloat(t.toString()).toFixed(p)).toPrecision(12)),d&&(t="".concat(t," ").concat(d)))}}catch(e){o=!0,i=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw i}}return t},e.onDetailPageChange=function(t){var r=e.state.currentOrder;switch(t){case"last":r--;break;case"next":r++}e.setState({currentGroup:"detail-page",currentOrder:r})},e.renderDetailPage=function(){var t=e.props,r=t.config,n=t.formatControls,a=t.primaryKey,o=t.dataSource,i=[];return o.map(function(t,l){var c=n(t,r,a);i.push(y.a.createElement(N.a,{group:"detail-page",order:l,key:"detail-page-".concat(l)},y.a.createElement(K,{onBack:e.backToList,currentOrder:e.state.currentOrder,minPage:0,maxPage:o.length-1,onPageChange:e.onDetailPageChange,dataSource:c,onDataFormat:e.handleChildDataFormat,onMapBoxChange:e.handleMapBoxChange})))}),i},e.handleMapBoxChange=function(t){var r=t.lat,n=t.lng,a=t.key,o=e.state,i=o.currentGroup,l=o.currentOrder;e.history={group:i,order:l},e.setState({currentGroup:"map-box",currentOrder:0,lat:r,lng:n,mapBoxTargetKey:a||""})},e.handleBackFromMapBox=function(){var t=e.history,r=t.group,n=t.order,a=e.state,o=a.primaryValue,i=a.mapBoxTargetKey,l=a.lat,c=a.lng,u=a.updatePageStatus,s=e.props.onMapPickerChange;s&&s({lat:l.toString(),lng:c.toString(),primaryValue:"add"===u?null:o,targetKey:i}),e.setState({currentGroup:r,currentOrder:n},function(){e.history={group:"list-page",order:-1}})},e.handeContentTouch=function(t,r){if("touchStart"===r&&(e.contentStartX=t.touches[0].pageX,e.contentStartY=t.touches[0].pageY),"touchEnd"===r){var n=t.changedTouches[0].pageX,a=t.changedTouches[0].pageY;"toRight"===R(e.contentStartX,e.contentStartY,n,a)&&e.setState({showSearchBar:!0})}},e.renderTemplate=function(){var t=e.props,r=t.children,n=t.dataSource,a=t.loading,o=t.onSearch,i=e.state.templateHeight;return y.a.createElement(N.a,{group:"list-page",order:0,key:"list-page-0"},e.renderSearchBar(y.a.createElement(P.a,{onRefresh:function(){return o&&o()},refreshing:a,getScrollContainer:function(){return document.body},direction:"up",indicator:{},damping:100,distanceToRefresh:25,style:{height:i,overflow:"auto"}},y.a.createElement("div",{className:"sc-content",ref:function(t){return e.content=t},onTouchStartCapture:function(t){return e.handeContentTouch(t,"touchStart")},onTouchEnd:function(t){return e.handeContentTouch(t,"touchEnd")}},y.a.createElement(z.default,{template:r,dataSource:n,onDataFormat:e.handleChildDataFormat,onClick:e.handleTemplateClick,onPress:e.handleTemplatePress})))))},e.renderUpdatePage=function(){var t=e.props,r=t.config,n=t.dataSource,a=t.primaryKey,o=t.formatControls,i=t.updatePageMapBoxItem,l=t.updatePageChange,c=t.updatePageForm,u=t.updatePageSave,s=e.state,d=s.primaryValue,p=s.updatePageStatus,m=n.findIndex(function(e){return e[a]===d}),f=o("add"===p?null:n[m],r,a);return y.a.createElement(N.a,{group:"update-page",order:0,key:"update-page-0"},y.a.createElement(ce,{onBack:e.backToList,dataSource:f,status:p,onMapBoxChange:e.handleMapBoxChange,updatePageMapBoxItem:i,updatePageForm:c,updatePageSave:u,onFormChange:l}))},e.renderMapBox=function(){var t=e.state,r=t.lat,n=t.lng,a=e.props,o=a.mapTileType,i=a.customMapTile;return y.a.createElement(N.a,{group:"map-box",order:0,key:"map-box-0"},y.a.createElement(ue.default,{center:{lat:r,lng:n},type:o,customTile:i,onMarkerDrag:function(t){e.setState({lat:t.lat.toString(),lng:t.lng.toString()})}}),y.a.createElement(w.a,{renderHeader:function(){return"坐标信息"},style:{position:"absolute",bottom:0,width:"100%",zIndex:400}},y.a.createElement(w.a.Item,{extra:n},"经度"),y.a.createElement(w.a.Item,{extra:r},"纬度"),y.a.createElement(w.a.Item,null,y.a.createElement(C.a,{onClick:e.handleBackFromMapBox},"返回"))))},e.renderFunctionalButton=function(){var t=e.props,r=t.dataSource,n=t.onSort,a=t.config,o=[],i=!0,l=!1,c=void 0;try{for(var u,s=a[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var d=u.value,p=d.isSort,m=d.key,f=d.name;p&&o.push({key:m,text:f})}}catch(e){l=!0,c=e}finally{try{i||null==s.return||s.return()}finally{if(l)throw c}}return y.a.createElement(se,{sortBy:o,dataSource:r,onSort:n})},e.renderSearchBar=function(t){var r=e.props,n=e.state.showSearchBar;return y.a.createElement(he,{dataSource:r.formatControls(null,r.config,r.primaryKey),visible:n,onVisibleChange:function(t){return e.setState({showSearchBar:t})},children:t,onSearch:function(t){e.setState({showSearchBar:!1},function(){return r.onSearch&&r.onSearch(t)})}})},e.render=function(){var t=O()(e),r=t.state,n=t.props,a=r.currentOrder,o=r.currentGroup;return y.a.createElement("div",{className:"Container-core"},y.a.createElement(j.default,{currentGroup:o,currentOrder:a},e.renderTemplate(),e.renderDetailPage(),e.renderUpdatePage(),e.renderMapBox()),"list-page"===o&&e.renderFunctionalButton(),y.a.createElement(k.a,{animating:n.loading,text:"正在加载...",toast:!0,size:"large"}))},e}return g()(t,e),F()(t,[{key:"componentDidUpdate",value:function(e,t){this.content&&this.content.clientHeight!==t.templateHeight&&this.setState({templateHeight:this.content.clientHeight})}}]),t}(v.Component),be=r(76),ke=function(e){function t(){var e;return s()(this,t),(e=p()(this,f()(t).apply(this,arguments))).state={config:[],dataSource:[],total:0,power:{select:!1,delete:!1,update:!1,add:!1},primaryKey:"",loading:!1,updatePageMapBoxItem:{lng:"-1",lat:"-1",key:"key"},updatePageForm:[]},e.componentDidMount=function(){e.getConfig()},e.handlePowerStr=function(e){for(var t={select:!1,delete:!1,update:!1,add:!1},r=0,n=Array.from(e.split(","));r<n.length;r++){switch(n[r]){case"Select":t.select=!0;break;case"Add":t.add=!0;break;case"Del":t.delete=!0;break;case"Update":t.update=!0}}return t},e.getConfig=function(){e.state.loading||e.setState({loading:!0});var t=e.props,r=t.tableId,n=t.menuId,a=t.configRequest;Object(be.a)(c()({data:{tableId:r,menuId:n},success:function(t){var r=t.data,n=e.getPrimaryKey(r.tablefieldconfig);e.setState({config:re(r.tablefieldconfig),power:e.handlePowerStr(r.power),primaryKey:n}),e.search()}},a))},e.getPrimaryKey=function(e){var t=e.filter(function(e){return e.iskey});if(t.length)return t[0].fname;console.error("where is the primary key? please check.")},e.search=function(t){var r=e.props.dataRequest;e.state.loading||e.setState({loading:!0}),Object(be.a)(c()({data:t,success:function(t){var r=t.data,n=[];r.list.map(function(e,t){n.push(c()({},e,{templateOrder:t}))}),e.setState({dataSource:n,total:r.recordcount,loading:!1})}},r))},e.handleDelete=function(t){var r=e.props.deleteRequest;e.state.loading||e.setState({loading:!0}),Object(be.a)(c()({data:{id:t},success:function(t){var r=t.data;r.result?e.search():(e.setState({loading:!1}),i.a.fail("保存失败："+r.remark||!1))}},r))},e.handeMapPickerChange=function(t){var r=t.primaryValue,n=t.targetKey,o=t.lng,i=t.lat,l=e.state,u=l.dataSource,s=l.primaryKey;if(r){var d=u.findIndex(function(e){return e[s]===r});u[d]=c()({},u[d],a()({},n,"".concat(o,"|").concat(i,"|"))),e.setState({dataSource:u})}else e.setState({updatePageMapBoxItem:{lat:i,lng:o,key:n}})},e.getUploadParam=function(e){var t=new FormData;return t.append("Filedata",e),t.append("Filename",e.name),t.append("fileext","*."+e.name.split(".")[e.name.split(".").length-1]),t.append("DataType","UploadFile"),t.append("UploadFolder","/Attachement/"),t.append("IsConvertOffice",""),t.append("GetFileName","y"),t.append("TCID",""),t.append("UploadTargetKey","n"),t.append("GetFileInfo","y"),t},e.handleSort=function(t){e.setState({dataSource:t})},e.handleUpdatePageChange=function(t){var r=e.state.updatePageMapBoxItem,n=t.findIndex(function(e){return e.key===r.key});-1!==n&&(t[n]=c()({},t[n],r),t[n].value="".concat(r.lng,"|").concat(r.lat,"|")),e.setState({updatePageForm:t})},e.handleUpdatePageSave=function(e){console.log(e)},e.render=function(){var t=e.state,r=t.power,n=t.config,a=t.dataSource,o=t.loading,i=t.total,l=t.primaryKey,u=t.updatePageMapBoxItem,s=t.updatePageForm;return y.a.createElement("div",{className:"DataController"},y.a.createElement(ye,c()({},e.props,{power:r,config:n,dataSource:a,total:i,primaryKey:l,loading:o,onSearch:e.search,onDelete:e.handleDelete,formatControls:ae,onMapPickerChange:e.handeMapPickerChange,updatePageMapBoxItem:u,updatePageForm:s,updatePageChange:e.handleUpdatePageChange,updatePageSave:e.handleUpdatePageSave,onSort:e.handleSort,mapTileType:e.props.mapTileType||"gdTrafficTile",customMapTile:e.props.customMapTile||[]})))},e}return g()(t,e),t}(v.Component);ke.defaultProps={children:null,tableId:-1,menuId:-1,domain:"."},r.d(t,"Core",function(){return ye});t.default=ke},282:function(e,t,r){var n=r(283);"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(15)(n,a);n.locals&&(e.exports=n.locals)},283:function(e,t,r){(e.exports=r(14)(!1)).push([e.i,".container-demo {\r\n  padding: 5px 4px;\r\n  background-color: #f2f2f2;\r\n  user-select: none;\r\n}\r\n\r\n.container-demo ul {\r\n  overflow: auto;\r\n  font-size: 14px;\r\n  background-color: #fff;\r\n  margin-bottom: 7px;\r\n  border: 1px solid #E4E4E4;\r\n  border-radius: 6px;\r\n  padding: 0;\r\n}\r\n\r\n.container-demo ul li {\r\n  padding: 5px;\r\n  list-style: none;\r\n  border-bottom: 1px solid #e4e4e4;\r\n  color: #676767;\r\n  height: 26px;\r\n  line-height: 26px;\r\n}\r\n\r\n.container-demo .left {\r\n  float: left;\r\n  width: 50%;\r\n  height: 37px;\r\n  line-height: 37px;\r\n  margin-top: -5px;\r\n  border-right: 1px solid #e4e4e4;\r\n}\r\n\r\n.container-demo .right label {\r\n  margin-left: 5px;\r\n}\r\n",""])},288:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(267);r(282);t.default=function(){return a.a.createElement("div",{className:"container-demo"},a.a.createElement(o.default,{tableId:10874,menuId:1392,configRequest:{url:"./assets/getConfig.json"},dataRequest:{url:"./assets/search.json"},deleteRequest:{url:"./assets/operatedata.json"},submitRequest:{url:""},attachmentRequest:{url:""}},a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("div",{className:"left"},a.a.createElement("label",null,"名称："),a.a.createElement("label",{"data-key":"pjnm"})),a.a.createElement("div",{className:"right"},a.a.createElement("label",null,"坝高："),a.a.createElement("label",{"data-key":"dam_width"}))),a.a.createElement("li",null,a.a.createElement("div",{className:"left"},a.a.createElement("label",null,"坝长："),a.a.createElement("label",{"data-key":"crest_length"})),a.a.createElement("div",{className:"right"},a.a.createElement("label",null,"主坝类型："),a.a.createElement("label",{"data-key":"retain_dam_type"}))))))}},52:function(e,t,r){"use strict";r.d(t,"a",function(){return y});var n=r(13),a=r.n(n),o=r(9),i=r.n(o),l=r(10),c=r.n(l),u=r(11),s=r.n(u),d=r(12),p=r.n(d),m=r(0),f=r.n(m),h=r(6),g=r.n(h),v=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&(r[n[a]]=e[n[a]])}return r},y=function(e){function t(){var e;return i()(this,t),(e=c()(this,s()(t).apply(this,arguments))).render=function(){var t=e.props,r=t.className,n=t.children,o=v(t,["className","children"]);return f.a.createElement("div",a()({className:g()("TransformManagerItem",r)},o),n)},e}return p()(t,e),t}(m.PureComponent);y.defaultProps={group:"",order:0,className:"",children:null}},65:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(9),i=r.n(o),l=r(10),c=r.n(l),u=r(11),s=r.n(u),d=r(12),p=r.n(d),m=(r(96),["image","webp","png","svg","gif","jpg","jpeg","bmp"]),f=function(e){if(!e)return!1;if(e.type&&m.includes(e.type))return!0;var t=e.url,r=function(e){if(!e)return"";var t=e.split("/"),r=t[t.length-1].split(/#|\?/)[0];return(/\.[^.\/\\]*$/.exec(r)||[""])[0]}(t);return!(!/^data:image\//.test(t)&&!/(webp|svg|png|gif|jpg|jpeg|bmp)$/i.test(r))||!/^data:/.test(t)&&!r},h=(r(98),function(e){function t(e){var r;return i()(this,t),(r=c()(this,s()(t).call(this,e))).triggerInputUpload=function(){var e=r.uploadInput.current;e&&(e.click(),e.value="")},r.onChange=function(e,t){var n=r.props.onChange,a=e.target.files.length?e.target.files[0]:null,o=new FileReader;o.readAsDataURL(a),o.onloadend=function(){var e={url:o.result};a.url=null,f(e)&&(a.url=o.result),a.id=a.size.toString()+(new Date).getTime(),n&&n(a),t&&t(a)}},r.render=function(){var e=r.props,t=e.renderPlusItem,n=e.multiple,o=a.a.createElement("i",{className:"plus-icon"},"+");return a.a.createElement("div",{className:"uploader"},a.a.createElement("div",{onClick:r.triggerInputUpload,className:"upload-item"},a.a.createElement("span",{className:"upload-button"},a.a.createElement("input",{type:"file",ref:r.uploadInput,style:{display:"none"},onChange:r.onChange,multiple:n}),t?t():o)))},r.uploadInput=Object(n.createRef)(),r}return p()(t,e),t}(n.Component)),g=r(6),v=r.n(g),y=function(e){function t(){var e;return i()(this,t),(e=c()(this,s()(t).apply(this,arguments))).componentWillUnmount=function(){e.clearTimer()},e.handleViewTouchStart=function(t){e.timer=setTimeout(function(){e.props.onPress&&e.props.onPress(t)},800)},e.clearTimer=function(){clearTimeout(e.timer)},e.render=function(){var t=e.props,r=t.fileList,n=void 0===r?[]:r,o=t.onChange,i=t.accept,l=t.multiple,c=t.onClick,u=a.a.createElement(h,{fileList:n,onChange:o,accept:i,multiple:l}),s=n.length?a.a.createElement("div",{className:"upload-view-list"},n.map(function(t){var r=t.url,n=t.id,o=t.name,i=t.error;return f(r)?a.a.createElement("div",{className:v()({"upload-item":!0,"upload-item-error":i}),key:"upload-item-".concat(n),onTouchStart:function(){return e.handleViewTouchStart(t)},onTouchMove:e.clearTimer,onTouchEnd:e.clearTimer,onClick:function(){return c&&c(t)}},a.a.createElement("img",{src:r})):a.a.createElement("div",{className:"upload-item",key:"upload-item-".concat(n)},o)}),u):u;return a.a.createElement("div",{className:"uploadView"},s)},e}return p()(t,e),t}(n.Component),b=(r(94),function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&(r[n[a]]=e[n[a]])}return r}),k=function(e){var t=e.style,r=e.className,n=b(e,["style","className"]);return a.a.createElement("div",{className:v()("upload",r),style:t},a.a.createElement(y,n))};t.default=k},66:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"googleTile",function(){return v}),r.d(n,"googleRsTile",function(){return y}),r.d(n,"googleTrafficTile",function(){return b}),r.d(n,"gdTrafficTile",function(){return k}),r.d(n,"gdSatelliteTile",function(){return x});var a=r(9),o=r.n(a),i=r(19),l=r.n(i),c=r(10),u=r.n(c),s=r(11),d=r.n(s),p=r(12),m=r.n(p),f=r(0),h=r.n(f),g=r(16),v=(r(104),r(100),g.tileLayer("http://{s}.google.cn/vt/lyrs=t@130,r@203000000&hl=zh-CN&gl=cn&src=app&x={x}&y={y}&z={z}&s=Gal",{subdomains:["mt0","mt1","mt2","mt3"]})),y=g.tileLayer("http://mt{s}.google.cn/vt/lyrs=y&hl=zh-CN&gl=cn&x={x}&y={y}&z={z}",{subdomains:["1","2","3"]}),b=g.tileLayer("http://mt{s}.google.cn/vt/lyrs=m@209000000&hl=zh-CN&gl=CN&src=app&x={x}&y={y}&z={z}&s=Galileo",{subdomains:["1","2","3"]}),k=g.tileLayer("http://webrd0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}",{subdomains:["1","2","3","4"]}),x=g.tileLayer("http://webst0{s}.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",{subdomains:["1","2","3","4"]}),C={center:[31.8,121.66],crs:g.CRS.EPSG3857,zoom:15,maxZoom:18,minZoom:1,dragging:!0,zoomControl:!0,attributionControl:!1},S=function(e){function t(e){var r;return o()(this,t),(r=u()(this,d()(t).call(this,e))).componentDidMount=function(){r.init()},r.init=function(){var e=r.props,t=e.type,a=void 0===t?"gdTrafficTile":t,o=e.customTile,i=void 0===o?[]:o,l=g.map(r.container.current||document.body,C).locate({setView:!0,maxZoom:16});if(r.bindMapEvent(l),0!==i.length){var c=!0,u=!1,s=void 0;try{for(var d,p=i[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var m=d.value;g.tileLayer(m.url,m.options).addTo(l)}}catch(e){u=!0,s=e}finally{try{c||null==p.return||p.return()}finally{if(u)throw s}}}else n[a].addTo(l);var f=g.icon({iconUrl:"./assets/defaultIcon.png"}),h=g.marker([31.8,121.66],{icon:f,draggable:!0,autoPan:!0}).addTo(l);r.bindMarkerEvent(h),r.map=l,r.marker=h},r.bindMapEvent=function(e){var t=r.props,n=t.onDrag,a=t.onDragEnd,o=t.onDragStart,i=t.onMove,l=t.onMoveEnd,c=t.onMoveStart;n&&e.on("drag",function(e){return n(r.getCenter(e))}),o&&e.on("dragstart",function(e){return o(r.getCenter(e))}),a&&e.on("dragend",function(e){return a(r.getCenter(e))}),i&&e.on("move",function(e){return i(r.getCenter(e))}),l&&e.on("moveend",function(e){return l(r.getCenter(e))}),c&&e.on("movestart",function(e){return c(r.getCenter(e))})},r.bindMarkerEvent=function(e){var t=r.props,n=t.onMarkerDrag,a=t.onMarkerDragEnd,o=t.onMarkerDragStart,i=t.onMarkerMove,l=t.onMarkerMoveEnd,c=t.onMarkerMoveStart;n&&e.on("drag",function(e){return n(r.getMarkCenter(e))}),a&&e.on("dragend",function(e){return a(r.getMarkCenter(e))}),o&&e.on("dragstart",function(e){return o(r.getMarkCenter(e))}),i&&e.on("move",function(e){return i(r.getMarkCenter(e))}),l&&e.on("moveend",function(e){return l(r.getMarkCenter(e))}),c&&e.on("movestart",function(e){return c(r.getMarkCenter(e))})},r.render=function(){return h.a.createElement("div",{className:"MapBox",ref:r.container})},r.getCenter=function(e){return e.target.getCenter()},r.getMarkCenter=function(e){return e.target.getLatLng()},r.state={center:e.center||{lng:"121.66",lat:"31.8"}},r.container=Object(f.createRef)(),r}return m()(t,e),l()(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return!e.center||e.center.lat===t.center.lat&&e.center.lng===t.center.lng?null:{center:e.center}}}]),t}(f.Component);t.default=S},67:function(e,t,r){"use strict";r.r(t);var n=r(9),a=r.n(n),o=r(10),i=r.n(o),l=r(11),c=r.n(l),u=r(12),s=r.n(u),d=r(0),p=r.n(d),m=r(21),f=r.n(m),h=function(e,t){var r,n=Object.prototype.toString,a=Object.prototype.hasOwnProperty,o={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Object]":"object"},i=function(e){return null==e?String(e):o[n.call(e)]||"object"},l=Array.isArray||function(e){return"array"===i(e)},c=function(e){if(!e||"object"!==i(e)||e.nodeType||function(e){return e&&"object"===f()(e)&&"setInterval"in e}(e))return!1;if(e.constructor&&!a.call(e,"constructor")&&!a.call(e.constructor.prototype,"isPrototypeOf"))return!1;var t;for(t in e);return void 0===t||a.call(e,t)};return function e(t,n){for(var a in n){var o,i=t[a],u=n[a];t!==u&&(u&&(c(u)||(r=l(u)))?(r?(r=!1,o=i&&l(i)?i:[]):o=i&&c(i)?i:{},t[a]=e(o,u)):void 0!==u&&(t[a]=u))}return t}(e,t)};r.d(t,"default",function(){return g});var g=function(e){function t(){var e;return a()(this,t),(e=i()(this,c()(t).apply(this,arguments))).handleChildEvent=function(t,r){if(!t||!t.props)return t;var n,a=e.props,o=a.onClick,i=a.onPress,l=a.timeForTriggerLongPress,c=void 0===l?700:l,u=t.props,s=u.onClick,d=u.onPress,p=u.stopPropagation;return t.key="template-child-".concat(1e4*Math.random()),u.onClick=function(e){e.stopPropagation(),s&&s(r,u,e),!p&&o&&o(r,u,e)},u.onTouchStart=function(e){e.stopPropagation(),n=setTimeout(function(){d&&d(r,u,e),!p&&i&&i(r,u,e)},c)},u.onTouchMove=function(){clearTimeout(n)},u.onTouchEnd=function(){clearTimeout(n)},delete u.onPress,delete u.stopPropagation,t},e.handleChildData=function(t,r){if(!t||!t.props)return t;var n=e.props,a=n.bindKey,o=void 0===a?"data-key":a,i=n.onDataFormat,l=t.props;if(l[o]){var c=r[l[o]];l.children=i?i(c,l,o):c}return t},e.travelChildren=function(t,r){p.a.Children.map(t,function(t){var n=e.handleChildEvent(t,r);n=e.handleChildData(n,r),t.props&&t.props.children&&"string"!=typeof t.props.children&&e.travelChildren(t.props.children,r)})},e.renderTemplate=function(){for(var t=e.props,r=t.dataSource,n=void 0===r?[]:r,a=t.template||e.props.children,o=[],i=0;i<n.length;i++){var l=n[i],c=h({},a);e.travelChildren(c,l),o.push(c)}return o},e.renderEmpty=function(){return p.a.createElement("div",{className:"Template"},p.a.createElement("img",{src:"./assets/nodata.png",style:{width:"100%"}}))},e.render=function(){var t=e.props.dataSource;return 0===(void 0===t?[]:t).length?e.renderEmpty():p.a.createElement("div",{className:"Template"},e.renderTemplate())},e}return s()(t,e),t}(d.Component)},68:function(e,t,r){"use strict";r.r(t);var n=r(13),a=r.n(n),o=r(9),i=r.n(o),l=r(19),c=r.n(l),u=r(10),s=r.n(u),d=r(11),p=r.n(d),m=r(12),f=r.n(m),h=r(0),g=r.n(h),v=r(6),y=r.n(v),b=(r(102),function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&(r[n[a]]=e[n[a]])}return r}),k=[],x=[],C=function(e){function t(){var e;return i()(this,t),(e=s()(this,p()(t).apply(this,arguments))).state={currentGroup:"",currentOrder:0,display:[],shouldTransform:!1,shouldRender:!1},e.componentDidUpdate=function(t){e.props.currentGroup!==t.currentGroup&&setTimeout(function(){e.setState({shouldTransform:!0})},0),!e.state.shouldRender&&e.state.shouldTransform&&setTimeout(function(){e.setState({shouldRender:!0},function(){e.setState({shouldRender:!1,shouldTransform:!1})})},500)},e.renderChildren=function(){var t=e.state,r=t.display,n=t.currentOrder,o=[],i=!0,l=!1,c=void 0;try{for(var u,s=r[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var d=u.value,p=d.children,m=d.order,f=d.style,h=d.className,v=b(d,["children","order","style","className"]);o.push(g.a.createElement("div",a()({style:a()({transform:"translate3d(".concat(100*(m-+n),"%, 0, 0)")},f),className:y()("Transform-item",h)},v),p))}}catch(e){l=!0,c=e}finally{try{i||null==s.return||s.return()}finally{if(l)throw c}}return o},e.render=function(){return g.a.createElement("div",{className:"TransformManager"},e.renderChildren())},e}return f()(t,e),c()(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var r=[];if(g.a.Children.map(e.children,function(e){r.push(a()({},e.props,{key:e.key}))}),k=function(e){var t=[],r=!0,n=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var l=o.value;t.push(l.group)}}catch(e){n=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw a}}return Array.from(new Set(t))}(r),x=function(e,t){var r={},n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var c=i.value;r[c]=[];var u=!0,s=!1,d=void 0;try{for(var p,m=t[Symbol.iterator]();!(u=(p=m.next()).done);u=!0){var f=p.value;c===f.group&&r[c].push(f)}}catch(e){s=!0,d=e}finally{try{u||null==m.return||m.return()}finally{if(s)throw d}}}}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(k,r),""===t.currentGroup&&(t.currentGroup=e.currentGroup),e.currentGroup===t.currentGroup)return t.display=x[e.currentGroup],t.currentOrder=e.currentOrder,t;if(t.currentGroup&&e.currentGroup&&e.currentGroup!==t.currentGroup){var n=x[t.currentGroup].findIndex(function(e){return 0===e.order-+t.currentOrder}),o={};-1!==n&&((o=x[t.currentGroup][n]).order=t.currentOrder);var i=x[e.currentGroup][e.currentOrder];if(i.order=+t.currentOrder+1,!t.shouldTransform&&!t.shouldRender)return t.display=[o,i],t;if(!t.shouldRender)return{currentOrder:1};if(t.shouldRender){var l=[];return x[e.currentGroup].map(function(e,t){l.push(a()({},e,{order:t+1}))}),{display:l,currentGroup:e.currentGroup}}}return null}}]),t}(h.PureComponent);C.defaultProps={currentGroup:"",currentOrder:0};var S=r(52);r.d(t,"TransformManagerItem",function(){return S.a});t.default=C},76:function(e,t,r){"use strict";var n=r(13),a=r.n(n),o=r(138),i={upload:"../../../SysManage/AjaxHandler/UploadHandler.ashx"};r.d(t,"a",function(){return u});var l=["json","html","text"],c=["GET","POST","PUT","DELETE"],u=function(e){var t,r,n=e.url,l=e.key,c=e.method,u=void 0===c?"GET":c,m=e.data,h=e.type,g=void 0===h?"json":h,v=e.success,y=e.params,b=e.fix,k=void 0===b?"&":b,x=e.isProxy,C=void 0!==x&&x,S=e.error,w={};d(g),s(u),t=f(l,i,null,C)||n,r=p(t,m,k),"GET"!=u&&(w={body:JSON.stringify(m),method:u,headers:{"Content-Type":"application/json"}}),w=a()({},w,y),Object(o.a)(t+r,w).then(function(e){return e[g]()}).then(function(e){return v&&v(e)}).catch(function(e){return S&&S(e)})},s=function(e){return e?(e=e.toUpperCase(),c.includes(e)?e:(console.error("fetch method error."),!1)):(console.error("fetch method is undefined."),!1)},d=function(e){return e?(e=e.toLowerCase(),l.includes(e)?e:(console.error("fetch type error."),!1)):(console.error("fetch type is undefined."),!1)},p=function(e,t,r){if(!e||!t)return"";var n=e.includes("?")?r:"?",a=m(t,r);return a?n+a:a},m=function(e,t){if(!e||0==Object.keys(e).length||e instanceof Array)return"";if("string"==typeof e)return e;for(var r="",n=0,a=Object.keys(e);n<a.length;n++){var o=a[n];r+="".concat(o,"=").concat(e[o]).concat(t)}return r=r.substr(0,r.length-("&"==t?1:3))},f=function(e,t,r,n){var a;for(var o in t)if(e==o){a=t[o];break}return!!a&&(r&&n&&(a=r+a),a)}},94:function(e,t,r){var n=r(95);"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(15)(n,a);n.locals&&(e.exports=n.locals)},95:function(e,t,r){(e.exports=r(14)(!1)).push([e.i,".upload .upload-item {\r\n  border: 1px dashed #d9d9d9;\r\n  width: 26vw;\r\n  height: 26vw;\r\n  border-radius: 4px;\r\n  background-color: #fafafa;\r\n  text-align: center;\r\n  cursor: pointer;\r\n  transition: border-color 0.3s ease;\r\n  vertical-align: top;\r\n  display: table;\r\n  padding: 5px;\r\n  margin: 1vw;\r\n}\r\n\r\n.upload .upload-item-error {\r\n  border: 1px dashed red;\r\n}\r\n",""])},96:function(e,t,r){var n=r(97);"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(15)(n,a);n.locals&&(e.exports=n.locals)},97:function(e,t,r){(e.exports=r(14)(!1)).push([e.i,".uploadView .upload-view-list {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin: 1vw\r\n}\r\n\r\n.uploadView .upload-view-list .upload-item {\r\n  overflow: hidden;\r\n  word-wrap: break-word;\r\n}\r\n\r\n.uploadView .upload-view-list .upload-item img {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n",""])},98:function(e,t,r){var n=r(99);"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(15)(n,a);n.locals&&(e.exports=n.locals)},99:function(e,t,r){(e.exports=r(14)(!1)).push([e.i,".uploader .upload-item .upload-button {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: table-cell;\r\n  text-align: center;\r\n  vertical-align: middle;\r\n  padding: 8px;\r\n  font-size: 14px;\r\n  font-variant: tabular-nums;\r\n  line-height: 1.5;\r\n  color: rgba(0, 0, 0, 0.65);\r\n  box-sizing: border-box;\r\n  list-style: none;\r\n  outline: 0;\r\n}\r\n\r\n.uploader .upload-item i {\r\n  font-size: 5em;\r\n  color: #999;\r\n}\r\n\r\n.uploader .upload-item .plus-icon {\r\n  display: inline-block;\r\n  font-style: normal;\r\n  vertical-align: -0.125em;\r\n  text-align: center;\r\n  text-transform: none;\r\n  line-height: 0.4;\r\n  text-rendering: optimizeLegibility;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n",""])}}]);
define(["react"],function(e){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),u=r(c),s=n(7),f=r(s);n(10);var d=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));h.call(n),n.format="YYYY-MM-DD";var r=new Date,l=T.clock(r).fmt(n.format),i=T.clock(new Date(r.setMonth(r.getMonth()-1))).fmt(n.format);return n.state={select:[],start:i,end:l,position:""},n}return l(t,e),i(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.select,r=t.start,a=t.end,o=t.position;return u.default.createElement("div",{className:"Calendar_demo"},u.default.createElement("div",{onClick:function(){return e.date_onChange("left")},style:{float:"left"}},"上个月"),u.default.createElement("div",{onClick:function(){return e.date_onChange("right")},style:{float:"right"}},"下个月"),u.default.createElement("div",{style:{clear:"both"}}),u.default.createElement("div",null,r+" "+a),u.default.createElement(f.default,{onChange:this.onChange,start:r,end:a,select:n,position:o,touch:this.handle_touch}))}}]),t}(u.default.Component),h=function(){var e=this;this.componentDidMount=function(){T.ajax({key:"calendar_demo",f:"json",success:function(t){e.setState({select:t,position:""})}})},this.handle_date_change=function(t){var n=e.state,r=n.start,a=n.end,o=n.position,l=new Date(r),i=new Date(a);switch(t){case"left":r=T.clock(new Date(l.setMonth(l.getMonth()-1))).fmt(e.format),a=T.clock(new Date(i.setMonth(i.getMonth()-1))).fmt(e.format),o="left";break;case"right":r=T.clock(new Date(l.setMonth(l.getMonth()+1))).fmt(e.format),a=T.clock(new Date(i.setMonth(i.getMonth()+1))).fmt(e.format),o="right"}return{start:r,end:a,position:o}},this.date_onChange=function(t){e.setState(e.handle_date_change(t))},this.onChange=function(t){var n=e.state.select,r=t.dateStr,a=0,o=!0,l=!1,i=void 0;try{for(var c,u=n[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var s=c.value;s.date==r&&a++}}catch(e){l=!0,i=e}finally{try{!o&&u.return&&u.return()}finally{if(l)throw i}}a>=1?n.splice(n.length-1,1):n.push(Object.assign(t,{date:r,style:{background:"#F96",color:"#FFF"}})),e.setState({select:n})},this.handle_touch=function(t){var n=e.handle_date_change(t),r=n.start,a=n.end;e.setState({position:t,start:r,end:a})}};t.default=d},function(t,n){t.exports=e},,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),u=r(c);n(8);var s=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.componentDidMount=function(){n.bind_touch_direction(n.content,function(e){n.props.touch&&n.props.touch(e)}),n.refresh()},n.bind_touch_direction=function(e,t){var r=void 0,a=void 0,o=void 0,l=void 0;e.addEventListener("touchstart",function(e){r=e.touches[0].pageX,a=e.touches[0].pageY}),e.addEventListener("touchend",function(e){o=e.changedTouches[0].pageX,l=e.changedTouches[0].pageY;var i=n.getDirection(r,a,o,l);t(i)})},n.refresh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=n.state,r=t.calendar_body,a=t.calendar_list,o=n.props,l=o.start,i=o.end,c=o.position;r=n.trans_calendar_datas(l,i),r=n.handle_select_date(e,r);var u=a.length;switch(c){case"left":for(var s=0;s<a.length;s++)a[s]--;u&&0==a[u-1]&&a.push(1);break;case"right":for(var f=0;f<a.length;f++)a[f]++}return{calendar_body:r,calendar_list:a}},n.handle_select_date=function(e,t){var n=!0,r=!1,a=void 0;try{for(var o,l=t[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var i=o.value,c=!0,u=!1,s=void 0;try{for(var f,d=i[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var h=f.value,p=new Date(h.dateStr).getTime(),v=!0,y=!1,m=void 0;try{for(var g,_=e[Symbol.iterator]();!(v=(g=_.next()).done);v=!0){var b=g.value,w=new Date(b.date).getTime();p===w&&(h=Object.assign(h,{style:b.style,badge:b.badge}))}}catch(e){y=!0,m=e}finally{try{!v&&_.return&&_.return()}finally{if(y)throw m}}}}catch(e){u=!0,s=e}finally{try{!c&&d.return&&d.return()}finally{if(u)throw s}}}}catch(e){r=!0,a=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw a}}return t},n.trans_calendar_datas=function(e,t){for(var r=[],a=new Date(e),o=new Date(t),l=n.getDaysByDateString(e,t),i=Math.ceil(l/7)+1,c=a.getDay(),u=o.getDay(),s=0;s<i;s++)r.push([]);for(var f=a.getTime()-24*c*3600*1e3,d=o.getTime()+24*(7-u-1)*3600*1e3,h=0,p=0;d-f>=0;){var v=T.clock(new Date(f)),y=v.fmt("YYYY-MM-DD"),m=v.fmt("D"),g={date:m,dateStr:y};g.disabled=!(a.getTime()<=f&&o.getTime()>=f),r[h][p%7]=g,p++,0!=p&&p%7==0&&h++,f+=864e5}return r},n.getDaysByDateString=function(e,t){if(void 0===e||void 0===t)return 1;var n=Date.parse(e.replace("/-/g","/")),r=Date.parse(t.replace("/-/g","/")),a=r-n+864e5,o=a/864e5;return o},n.handle_td_click=function(e){n.props.onChange&&n.props.onChange(e)},n.state={calendar_body:[],calendar_list:[-4,-3,-2,-1,0,1]},n}return l(t,e),i(t,[{key:"getDirection",value:function(e,t,n,r){var a=n-e,o=r-t,l="我一直站在此处没有动，等你买橘回来给我付车费";if(Math.abs(a)<25&&Math.abs(o)<25)return l;var i=180*Math.atan2(o,a)/Math.PI;return i>=-135&&i<=-45?l="down":i>45&&i<135?l="top":i>=135&&i<=180||i>=-180&&i<-135?l="right":i>=-45&&i<=45&&(l="left"),l}},{key:"render",value:function(){var e=this,t=this.props.select,n=void 0===t?[]:t,r=(this.state.currentSelect,this.refresh(n)),a=r.calendar_body,o=r.calendar_list,l=[];l.push(u.default.createElement("tr",null,f.map(function(e){return u.default.createElement("td",null,u.default.createElement("span",null,e))})));var i=[],c=!0,s=!1,d=void 0;try{for(var h,p=a[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){var v=h.value;i.push(u.default.createElement("tr",null,v.map(function(t){var n=t.style,r=void 0===n?{}:n,a=t.date,o=t.disabled,l=t.badge,i=void 0===l?{text:"",style:{}}:l,c=i.text,s=i.style;return u.default.createElement("td",{onClick:function(){return e.handle_td_click(t)}},u.default.createElement("div",{className:"cal-text",style:o?{color:"#949494"}:r},i?u.default.createElement("div",{className:"cal-badge",style:s},c):null,u.default.createElement("span",null,a)))})))}}catch(e){s=!0,d=e}finally{try{!c&&p.return&&p.return()}finally{if(s)throw d}}return u.default.createElement("div",{className:"Calendar",ref:function(t){return e.content=t}},o.map(function(e,t){return u.default.createElement("div",{className:"container",style:{transform:"translate3d("+e*-100+"%, 0 , 0)",opacity:e?0:1}},u.default.createElement("table",{className:"week-name"},l,i))}))}}]),t}(u.default.Component);t.default=s;var f=["日","一","二","三","四","五","六"]},function(e,t){},,function(e,t){}])});
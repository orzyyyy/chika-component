(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{100:function(n,t,e){var r=e(101);"string"==typeof r&&(r=[[n.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(15)(r,o);r.locals&&(n.exports=r.locals)},101:function(n,t,e){(n.exports=e(14)(!1)).push([n.i,".MapBox {\r\n  width: 100%;\r\n  height: 100vh;\r\n}\r\n",""])},292:function(n,t,e){"use strict";e.r(t);var r=e(0),o=e.n(r),a=e(66);t.default=function(){return o.a.createElement(a.default,{onMarkerMove:function(n){var t=n.lat,e=n.lng;return console.log(t,e)}})}},66:function(n,t,e){"use strict";e.r(t);var r={};e.r(r),e.d(r,"googleTile",function(){return y}),e.d(r,"googleRsTile",function(){return M}),e.d(r,"googleTrafficTile",function(){return h}),e.d(r,"gdTrafficTile",function(){return C}),e.d(r,"gdSatelliteTile",function(){return k});var o=e(9),a=e.n(o),i=e(19),u=e.n(i),c=e(10),l=e.n(c),s=e(11),g=e.n(s),d=e(12),f=e.n(d),v=e(0),m=e.n(v),p=e(16),y=(e(104),e(100),p.tileLayer("http://{s}.google.cn/vt/lyrs=t@130,r@203000000&hl=zh-CN&gl=cn&src=app&x={x}&y={y}&z={z}&s=Gal",{subdomains:["mt0","mt1","mt2","mt3"]})),M=p.tileLayer("http://mt{s}.google.cn/vt/lyrs=y&hl=zh-CN&gl=cn&x={x}&y={y}&z={z}",{subdomains:["1","2","3"]}),h=p.tileLayer("http://mt{s}.google.cn/vt/lyrs=m@209000000&hl=zh-CN&gl=CN&src=app&x={x}&y={y}&z={z}&s=Galileo",{subdomains:["1","2","3"]}),C=p.tileLayer("http://webrd0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}",{subdomains:["1","2","3","4"]}),k=p.tileLayer("http://webst0{s}.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",{subdomains:["1","2","3","4"]}),b={center:[31.8,121.66],crs:p.CRS.EPSG3857,zoom:15,maxZoom:18,minZoom:1,dragging:!0,zoomControl:!0,attributionControl:!1},x=function(n){function t(n){var e;return a()(this,t),(e=l()(this,g()(t).call(this,n))).componentDidMount=function(){e.init()},e.init=function(){var n=e.props,t=n.type,o=void 0===t?"gdTrafficTile":t,a=n.customTile,i=void 0===a?[]:a,u=p.map(e.container.current||document.body,b).locate({setView:!0,maxZoom:16});if(e.bindMapEvent(u),0!==i.length){var c=!0,l=!1,s=void 0;try{for(var g,d=i[Symbol.iterator]();!(c=(g=d.next()).done);c=!0){var f=g.value;p.tileLayer(f.url,f.options).addTo(u)}}catch(n){l=!0,s=n}finally{try{c||null==d.return||d.return()}finally{if(l)throw s}}}else r[o].addTo(u);var v=p.icon({iconUrl:"./assets/defaultIcon.png"}),m=p.marker([31.8,121.66],{icon:v,draggable:!0,autoPan:!0}).addTo(u);e.bindMarkerEvent(m),e.map=u,e.marker=m},e.bindMapEvent=function(n){var t=e.props,r=t.onDrag,o=t.onDragEnd,a=t.onDragStart,i=t.onMove,u=t.onMoveEnd,c=t.onMoveStart;r&&n.on("drag",function(n){return r(e.getCenter(n))}),a&&n.on("dragstart",function(n){return a(e.getCenter(n))}),o&&n.on("dragend",function(n){return o(e.getCenter(n))}),i&&n.on("move",function(n){return i(e.getCenter(n))}),u&&n.on("moveend",function(n){return u(e.getCenter(n))}),c&&n.on("movestart",function(n){return c(e.getCenter(n))})},e.bindMarkerEvent=function(n){var t=e.props,r=t.onMarkerDrag,o=t.onMarkerDragEnd,a=t.onMarkerDragStart,i=t.onMarkerMove,u=t.onMarkerMoveEnd,c=t.onMarkerMoveStart;r&&n.on("drag",function(n){return r(e.getMarkCenter(n))}),o&&n.on("dragend",function(n){return o(e.getMarkCenter(n))}),a&&n.on("dragstart",function(n){return a(e.getMarkCenter(n))}),i&&n.on("move",function(n){return i(e.getMarkCenter(n))}),u&&n.on("moveend",function(n){return u(e.getMarkCenter(n))}),c&&n.on("movestart",function(n){return c(e.getMarkCenter(n))})},e.render=function(){return m.a.createElement("div",{className:"MapBox",ref:e.container})},e.getCenter=function(n){return n.target.getCenter()},e.getMarkCenter=function(n){return n.target.getLatLng()},e.state={center:n.center||{lng:"121.66",lat:"31.8"}},e.container=Object(v.createRef)(),e}return f()(t,n),u()(t,null,[{key:"getDerivedStateFromProps",value:function(n,t){return!n.center||n.center.lat===t.center.lat&&n.center.lng===t.center.lng?null:{center:n.center}}}]),t}(v.Component);t.default=x}}]);